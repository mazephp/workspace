<?php
/*
|--------------------------------------------------------------------------
| start time
|--------------------------------------------------------------------------
*/
define('MAZE_START', microtime());

/*
|--------------------------------------------------------------------------
| robin time
|--------------------------------------------------------------------------
*/
define('MAZE_TIME', $_SERVER['REQUEST_TIME']);

/*
|--------------------------------------------------------------------------
| robin path
|--------------------------------------------------------------------------
*/
define('MAZE_PATH', __DIR__ . '/');

/*
|--------------------------------------------------------------------------
| autoload
|--------------------------------------------------------------------------
*/
require __DIR__ . '/vendor/autoload.php';

/*
|--------------------------------------------------------------------------
| load base config
|--------------------------------------------------------------------------
*/
\Config::get('base');

/*
|--------------------------------------------------------------------------
| load debug config
|--------------------------------------------------------------------------
*/
\Config::get('debug');

if(\Config::$global['debug']['error'])
{
    /*
    |--------------------------------------------------------------------------
    | error
    |--------------------------------------------------------------------------
    */
    ini_set('display_errors', true);
}

/*
|--------------------------------------------------------------------------
| project register
|--------------------------------------------------------------------------
*/
Maze\Cute\Project::register();

/*
|--------------------------------------------------------------------------
| route
|--------------------------------------------------------------------------
*/
$route = new Maze\Cute\Route;

/*
|--------------------------------------------------------------------------
| route run
|--------------------------------------------------------------------------
*/
$route->run();

/*
|--------------------------------------------------------------------------
| route out
|--------------------------------------------------------------------------
*/
$route->out();